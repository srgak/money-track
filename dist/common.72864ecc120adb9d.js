"use strict";(self.webpackChunknovella=self.webpackChunknovella||[]).push([[592],{3314:(g,m,a)=>{a.d(m,{C:()=>u});var e=a(1223);const p=["input"],h=["*"];let u=(()=>{class l{constructor(c){this.renderer2=c}ngOnInit(){}ngAfterContentInit(){this.elInput=this.inputRef.nativeElement,this.renderer2.addClass(this.elInput,"field__input")}}return l.\u0275fac=function(c){return new(c||l)(e.Y36(e.Qsj))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ui-field"]],contentQueries:function(c,f,v){if(1&c&&e.Suo(v,p,5),2&c){let _;e.iGM(_=e.CRH())&&(f.inputRef=_.first)}},ngContentSelectors:h,decls:3,vars:0,consts:[[1,"field"],[1,"field__container"]],template:function(c,f){1&c&&(e.F$t(),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.qZA())},styles:[""]}),l})()},1574:(g,m,a)=>{a.d(m,{z:()=>M});var e=a(1223),p=a(2382),h=a(1135),u=a(727),l=a(9555),n=a(9808);function c(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().deleteTag(o)}),e._uU(1,"x"),e.qZA()}}function f(s,r){if(1&s&&(e.TgZ(0,"span",2),e._uU(1),e.YNc(2,c,2,0,"button",3),e.qZA()),2&s){const t=r.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("ngIf",i.isActive)}}const v=function(s){return{active:s}};let _=(()=>{class s{constructor(){this.tagList=[],this.isActive=!1,this.onChangeValue=new e.vpe,this.onMarkItem=new e.vpe}get valueList(){const t=[];return this.tagList.forEach(i=>{t.push(i.value)}),t}showTagList(t){t.target.classList.contains("field-tag__close")||(this.isActive=!this.isActive)}deleteTag(t){const i=this.tagList[t];this.tagList.splice(t,1),this.onChangeValue.emit(this.tagList.length?this.valueList:null),this.onMarkItem.emit({item:i,add:!1}),this.isActive=!!this.tagList.length}chooseMultipleItem(t,i){if(i){const o=this.tagList.findIndex(d=>d.value===t.value);this.tagList.splice(o,1)}else this.tagList.push(t);this.onMarkItem.emit({item:t,add:!i}),this.onChangeValue.emit(this.valueList)}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["ui-select-tags"]],decls:2,vars:4,consts:[[1,"field-tag",3,"ngClass","click"],["class","field-tag__item",4,"ngFor","ngForOf"],[1,"field-tag__item"],["type","button","class","field-tag__close",3,"click",4,"ngIf"],["type","button",1,"field-tag__close",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(d){return i.showTagList(d)}),e.YNc(1,f,3,2,"span",1),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,v,i.isActive)),e.xp6(1),e.Q6J("ngForOf",i.tagList))},directives:[n.mk,n.sg,n.O5],styles:[""]}),s})();const C=function(s){return{disabled:s}};let b=(()=>{class s{constructor(t){this.elRef=t,this.isDisabled=!1,this.onChangeItem=new e.vpe,this.itemEl=this.elRef.nativeElement}chooseItem(){this.onChangeItem.emit({itemInfo:this.item,el:this.itemEl})}ngOnInit(){this.item={value:this.value,label:this.label}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ui-select-item"]],inputs:{value:"value",label:"label",isDisabled:"isDisabled"},outputs:{onChangeItem:"onChangeItem"},decls:2,vars:4,consts:[[3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"li",0),e.NdJ("click",function(){return i.chooseItem()}),e._uU(1),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,C,i.isDisabled)),e.xp6(1),e.hij(" ",i.label,"\n"))},directives:[n.mk],styles:["[_nghost-%COMP%]{display:block}"]}),s})();const I=["input"];function T(s,r){1&s&&(e.ynx(0),e._UZ(1,"ui-select-tags"),e.BQk())}function L(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"ui-select-item",5),e.NdJ("onChangeItem",function(o){return e.CHM(t),e.oxw().setItem(o)}),e.qZA()}if(2&s){const t=r.$implicit;e.Q6J("value",t.value)("label",t.label)("isDisabled",t.disabled)}}const S=[[["input"]]],F=function(s){return{active:s}};let M=(()=>{class s{constructor(t,i){this.renderer2=t,this.elRef=i,this.isMultiple=!1,this.list$=new h.X([]),this.control=new p.NI,this.subs=new u.w0,this.onTouched=()=>{},this.onChange=o=>{}}updateChanges(t){this.onChange(t)}registerOnChange(t){this.subs.add(this.control.valueChanges.subscribe(t))}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}initInputValue(t){const i=this.list.findIndex(x=>x.value===t);this.changeItem({itemInfo:this.list[i],el:this.elSelectList[i]})}setItem(t){this.control.setValue(t.itemInfo.value),this.changeItem(t)}changeItem(t){this.isMultiple?this.selectTags.chooseMultipleItem(t.itemInfo,t.el.classList.contains("active")):(this.elSelectList.forEach(i=>{this.renderer2.removeClass(i,"active")}),this.renderer2.setProperty(this.elInput,"value",t.itemInfo.label),this.markItem(t.itemInfo))}markItem(t,i=!0){const o=this.list.findIndex(d=>d.value===t.value);i?this.renderer2.addClass(this.elSelectList[o],"active"):this.renderer2.removeClass(this.elSelectList[o],"active")}ngOnInit(){this.list&&this.list$.next(this.list)}ngAfterContentInit(){this.elInput=this.inputRef.nativeElement,this.dropdown=new l.L(this.elInput,this.isMultiple?".field-list":null),this.renderer2.addClass(this.elInput,"field__input"),this.renderer2.setAttribute(this.elInput,"readonly","readonly")}ngAfterViewInit(){this.elSelect=this.elRef.nativeElement.querySelector(".field-list"),this.elSelectList=Array.from(this.elSelect.children),this.value=this.control.value,this.isMultiple&&(this.subs.add(this.selectTags.onChangeValue.subscribe(t=>{this.control.setValue(t||null)})),this.subs.add(this.selectTags.onMarkItem.subscribe(t=>{this.markItem(t.item,t.add)}))),this.value&&(Array.isArray(this.value)?this.value.forEach(t=>{this.initInputValue(t)}):this.initInputValue(this.value))}ngOnDestroy(){this.subs.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.Qsj),e.Y36(e.SBq))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ui-select"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,I,5),2&t){let d;e.iGM(d=e.CRH())&&(i.inputRef=d.first)}},viewQuery:function(t,i){if(1&t&&e.Gf(_,5),2&t){let o;e.iGM(o=e.CRH())&&(i.selectTags=o.first)}},inputs:{isMultiple:"isMultiple",list:"list"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}])],ngContentSelectors:I,decls:8,vars:9,consts:[[1,"field"],[1,"field__container","field__container_arrow"],[4,"ngIf"],[1,"field-list",3,"ngClass"],["class","field-list__item",3,"value","label","isDisabled","onChangeItem",4,"ngFor","ngForOf"],[1,"field-list__item",3,"value","label","isDisabled","onChangeItem"]],template:function(t,i){1&t&&(e.F$t(S),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.YNc(3,T,2,0,"ng-container",2),e.qZA(),e.TgZ(4,"ul",3),e.ALo(5,"async"),e.YNc(6,L,1,3,"ui-select-item",4),e.ALo(7,"async"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.isMultiple),e.xp6(1),e.Q6J("ngClass",e.VKq(7,F,e.lcZ(5,3,i.dropdown.activeFlag$))),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,5,i.list$)))},directives:[n.O5,n.mk,n.sg,_,b],pipes:[n.Ov],styles:[""],changeDetection:0}),s})()},721:(g,m,a)=>{a.d(m,{X:()=>p});var e=a(1223);let p=(()=>{class h{constructor(l,n){this.renderer2=l,this.elRef=n,this.elInput=n.nativeElement,this.elHelp=l.createElement("div")}ngOnInit(){this.elField=this.elInput.closest(".field"),this.renderer2.addClass(this.elHelp,"field__help"),this.renderer2.appendChild(this.elField,this.elHelp),this.renderer2.setProperty(this.elHelp,"innerText",this.helpText)}}return h.\u0275fac=function(l){return new(l||h)(e.Y36(e.Qsj),e.Y36(e.SBq))},h.\u0275dir=e.lG2({type:h,selectors:[["","uiInputHelp",""]],inputs:{helpText:["uiInputHelp","helpText"]}}),h})()},2297:(g,m,a)=>{a.d(m,{V:()=>h});var e=a(1223),p=a(2382);let h=(()=>{class u{constructor(n,c,f){this.renderer2=n,this.elRef=c,this.ngControl=f,this.elInput=c.nativeElement,this.elLabel=n.createElement("label")}onFocus(){this.renderer2.addClass(this.elField,"active")}onBlur(){this.control.value||this.renderer2.removeClass(this.elField,"active")}ngOnInit(){this.required&&(this.labelText+="<sup>*</sup>"),this.control=this.ngControl.control,this.elField=this.elInput.closest(".field"),this.elFieldContainer=this.renderer2.parentNode(this.elInput),this.renderer2.addClass(this.elLabel,"field__label"),this.renderer2.appendChild(this.elFieldContainer,this.elLabel),this.renderer2.setProperty(this.elLabel,"innerHTML",this.labelText),this.control.value&&this.onFocus(),this.control.valueChanges.subscribe(n=>{n?this.onFocus():this.onBlur()})}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(p.a5))},u.\u0275dir=e.lG2({type:u,selectors:[["","uiInputLabel",""]],hostBindings:function(n,c){1&n&&e.NdJ("focus",function(){return c.onFocus()})("blur",function(){return c.onBlur()})},inputs:{labelText:["uiInputLabel","labelText"],required:"required"}}),u})()},9555:(g,m,a)=>{a.d(m,{L:()=>p});var e=a(1135);class p{constructor(u,l){this.boundClickHandler=this.clickHandler.bind(this),this.elInput=u,this.activeFlag$=new e.X(!1),this.closestString=l,this.init()}init(){this.elInput.addEventListener("click",()=>{addEventListener("click",this.boundClickHandler)})}clickHandler(u){const l=u.target;this.closestString?!l.closest(this.closestString)&&l!==this.elInput&&this.activeFlag$.next(!1):l!==this.elInput&&this.activeFlag$.next(!1),l===this.elInput&&this.activeFlag$.next(!this.activeFlag$.value),this.activeFlag$.value||(this.elInput.blur(),removeEventListener("click",this.boundClickHandler))}}}}]);