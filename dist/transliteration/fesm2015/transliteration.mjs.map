{"version":3,"file":"transliteration.mjs","sources":["../../../projects/transliteration/src/lib/transliteration.directive.ts","../../../projects/transliteration/src/lib/transliteration.module.ts","../../../projects/transliteration/src/public-api.ts","../../../projects/transliteration/src/transliteration.ts"],"sourcesContent":["import { AfterViewInit, Directive, ElementRef, HostListener, Input } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nenum keyList {\n  q = 'й',\n  w = 'ц',\n  e = 'у',\n  r = 'к',\n  t = 'е',\n  y = 'н',\n  u = 'г',\n  i = 'ш',\n  o = 'щ',\n  p = 'з',\n  '[' = 'х',\n  ']' = 'ъ',\n  a = 'ф',\n  s = 'ы',\n  d = 'в',\n  f = 'а',\n  g = 'п',\n  h = 'р',\n  j = 'о',\n  k = 'л',\n  l = 'д',\n  ';' = 'ж',\n  '\\'' = 'э',\n  z = 'я',\n  x = 'ч',\n  c = 'с',\n  v = 'м',\n  b = 'и',\n  n = 'т',\n  m = 'ь',\n  '\\,' = 'б',\n  '\\.' = 'ю',\n  '`' = 'ё',\n  '\\\\' = 'ё'\n};\n@Directive({\n  selector: '[transliteration]'\n})\nexport class TransliterationDirective implements AfterViewInit {\n  constructor(private el: ElementRef, private control: NgControl) {}\n\n  private input = this.el.nativeElement;\n\n  @HostListener('input', ['$event'])\n  change(event) {\n    this.input.value = this.translate(this.input.value, event.data);\n    this.control.control.setValue(this.input.value);\n  }\n\n  private translate(value: string, key: string) {\n    return key \n      ? value.substring(0, value.length - 1) + (keyList[key] || '')\n      : value;\n  }\n\n  ngAfterViewInit(): void {\n    this.input = this.input.children.length ? this.input.querySelector('input') : this.input;\n  }\n}","import { NgModule } from '@angular/core';\nimport { TransliterationDirective } from './transliteration.directive';\n\n\n\n@NgModule({\n  declarations: [\n    TransliterationDirective\n  ],\n  imports: [\n  ],\n  exports: [\n    TransliterationDirective\n  ]\n})\nexport class TransliterationModule { }\n","/*\n * Public API Surface of transliteration\n */\n\nexport * from './lib/transliteration.directive';\nexport * from './lib/transliteration.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;AAGA,IAAK,OAmCJ;AAnCD,WAAK,OAAO;IACV,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAS,CAAA;IACT,uBAAS,CAAA;IACT,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAS,CAAA;IACT,uBAAU,CAAA;IACV,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAO,CAAA;IACP,uBAAU,CAAA;IACV,uBAAU,CAAA;IACV,uBAAS,CAAA;IACT,wBAAU,CAAA;AACZ,CAAC,EAnCI,OAAO,KAAP,OAAO,QAmCX;AAAA,CAAC;MAIW,wBAAwB;IACnC,YAAoB,EAAc,EAAU,OAAkB;QAA1C,OAAE,GAAF,EAAE,CAAY;QAAU,YAAO,GAAP,OAAO,CAAW;QAEtD,UAAK,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;KAF4B;IAKlE,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KACjD;IAEO,SAAS,CAAC,KAAa,EAAE,GAAW;QAC1C,OAAO,GAAG;cACN,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;cAC3D,KAAK,CAAC;KACX;IAED,eAAe;QACb,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;KAC1F;;qHAnBU,wBAAwB;yGAAxB,wBAAwB;2FAAxB,wBAAwB;kBAHpC,SAAS;mBAAC;oBACT,QAAQ,EAAE,mBAAmB;iBAC9B;yHAOC,MAAM;sBADL,YAAY;uBAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;;;MChCtB,qBAAqB;;kHAArB,qBAAqB;mHAArB,qBAAqB,iBAR9B,wBAAwB,aAKxB,wBAAwB;mHAGf,qBAAqB,YANvB,EACR;2FAKU,qBAAqB;kBAVjC,QAAQ;mBAAC;oBACR,YAAY,EAAE;wBACZ,wBAAwB;qBACzB;oBACD,OAAO,EAAE,EACR;oBACD,OAAO,EAAE;wBACP,wBAAwB;qBACzB;iBACF;;;ACdD;;;;ACAA;;;;;;"}