"use strict";(self.webpackChunknovella=self.webpackChunknovella||[]).push([[592],{3314:(_,m,l)=>{l.d(m,{C:()=>u});var e=l(1223);const d=["input"],h=["*"];let u=(()=>{class a{constructor(c){this.renderer2=c}ngOnInit(){}ngAfterContentInit(){this.elInput=this.inputRef.nativeElement,this.renderer2.addClass(this.elInput,"field__input")}}return a.\u0275fac=function(c){return new(c||a)(e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ui-field"]],contentQueries:function(c,f,v){if(1&c&&e.Suo(v,d,5),2&c){let g;e.iGM(g=e.CRH())&&(f.inputRef=g.first)}},ngContentSelectors:h,decls:3,vars:0,consts:[[1,"field"],[1,"field__container"]],template:function(c,f){1&c&&(e.F$t(),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.qZA())},styles:[""]}),a})()},1574:(_,m,l)=>{l.d(m,{z:()=>M});var e=l(1223),d=l(2382),h=l(1135),u=l(727),a=l(9555),s=l(9808);function c(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().deleteTag(o)}),e._uU(1,"x"),e.qZA()}}function f(n,r){if(1&n&&(e.TgZ(0,"span",2),e._uU(1),e.YNc(2,c,2,0,"button",3),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("ngIf",i.isActive)}}const v=function(n){return{active:n}};let g=(()=>{class n{constructor(){this.tagList=[],this.isActive=!1,this.onChangeValue=new e.vpe,this.onMarkItem=new e.vpe}get valueList(){const t=[];return this.tagList.forEach(i=>{t.push(i.value)}),t}showTagList(t){t.target.classList.contains("field-tag__close")||(this.isActive=!this.isActive)}deleteTag(t){const i=this.tagList[t];this.tagList.splice(t,1),this.onChangeValue.emit(this.tagList.length?this.valueList:null),this.onMarkItem.emit({item:i,add:!1}),this.isActive=!!this.tagList.length}chooseMultipleItem(t,i){if(i){const o=this.tagList.findIndex(p=>p.value===t.value);this.tagList.splice(o,1)}else this.tagList.push(t);this.onMarkItem.emit({item:t,add:!i}),this.onChangeValue.emit(this.valueList)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ui-select-tags"]],decls:2,vars:4,consts:[[1,"field-tag",3,"ngClass","click"],["class","field-tag__item",4,"ngFor","ngForOf"],[1,"field-tag__item"],["type","button","class","field-tag__close",3,"click",4,"ngIf"],["type","button",1,"field-tag__close",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(p){return i.showTagList(p)}),e.YNc(1,f,3,2,"span",1),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,v,i.isActive)),e.xp6(1),e.Q6J("ngForOf",i.tagList))},directives:[s.mk,s.sg,s.O5],styles:[""]}),n})();const C=function(n){return{disabled:n}};let b=(()=>{class n{constructor(t){this.elRef=t,this.isDisabled=!1,this.onChangeItem=new e.vpe,this.itemEl=this.elRef.nativeElement}chooseItem(){this.onChangeItem.emit({itemInfo:this.item,el:this.itemEl})}ngOnInit(){this.item={value:this.value,label:this.label}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ui-select-item"]],inputs:{value:"value",label:"label",isDisabled:"isDisabled"},outputs:{onChangeItem:"onChangeItem"},decls:2,vars:4,consts:[[3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"li",0),e.NdJ("click",function(){return i.chooseItem()}),e._uU(1),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,C,i.isDisabled)),e.xp6(1),e.hij(" ",i.label,"\n"))},directives:[s.mk],styles:["[_nghost-%COMP%]{display:block}"]}),n})();const I=["input"];function T(n,r){1&n&&(e.ynx(0),e._UZ(1,"ui-select-tags"),e.BQk())}function L(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ui-select-item",5),e.NdJ("onChangeItem",function(o){return e.CHM(t),e.oxw().setItem(o)}),e.qZA()}if(2&n){const t=r.$implicit;e.Q6J("value",t.value)("label",t.label)("isDisabled",t.disabled)}}const S=[[["input"]]],F=function(n){return{active:n}};let M=(()=>{class n{constructor(t,i){this.renderer2=t,this.elRef=i,this.isMultiple=!1,this.list$=new h.X([]),this.control=new d.NI,this.subs=new u.w0,this.onTouched=()=>{},this.onChange=o=>{}}updateChanges(t){this.onChange(t)}registerOnChange(t){this.subs.add(this.control.valueChanges.subscribe(t))}registerOnTouched(t){this.onTouched=t}writeValue(t){this.control.setValue(t)}initInputValue(t){const i=this.list.findIndex(y=>y.value===t);this.changeItem({itemInfo:this.list[i],el:this.elSelectList[i]})}setItem(t){this.control.setValue(t.itemInfo.value),this.changeItem(t)}changeItem(t){this.isMultiple?this.selectTags.chooseMultipleItem(t.itemInfo,t.el.classList.contains("active")):(this.elSelectList.forEach(i=>{this.renderer2.removeClass(i,"active")}),this.renderer2.setProperty(this.elInput,"value",t.itemInfo.label),this.markItem(t.itemInfo))}markItem(t,i=!0){const o=this.list.findIndex(p=>p.value===t.value);i?this.renderer2.addClass(this.elSelectList[o],"active"):this.renderer2.removeClass(this.elSelectList[o],"active")}ngOnInit(){this.list&&this.list$.next(this.list)}ngAfterContentInit(){this.elInput=this.inputRef.nativeElement,this.dropdown=new a.L(this.elInput,this.isMultiple?".field-list":null),this.renderer2.addClass(this.elInput,"field__input"),this.renderer2.setAttribute(this.elInput,"readonly","readonly")}ngAfterViewInit(){this.elSelect=this.elRef.nativeElement.querySelector(".field-list"),this.elSelectList=Array.from(this.elSelect.children),this.value=this.control.value,this.isMultiple&&(this.subs.add(this.selectTags.onChangeValue.subscribe(t=>{this.control.setValue(t||null)})),this.subs.add(this.selectTags.onMarkItem.subscribe(t=>{this.markItem(t.item,t.add)}))),this.value&&(Array.isArray(this.value)?this.value.forEach(t=>{this.initInputValue(t)}):this.initInputValue(this.value))}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ui-select"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,I,5),2&t){let p;e.iGM(p=e.CRH())&&(i.inputRef=p.first)}},viewQuery:function(t,i){if(1&t&&e.Gf(g,5),2&t){let o;e.iGM(o=e.CRH())&&(i.selectTags=o.first)}},inputs:{isMultiple:"isMultiple",list:"list"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],ngContentSelectors:I,decls:8,vars:9,consts:[[1,"field"],[1,"field__container","field__container_arrow"],[4,"ngIf"],[1,"field-list",3,"ngClass"],["class","field-list__item",3,"value","label","isDisabled","onChangeItem",4,"ngFor","ngForOf"],[1,"field-list__item",3,"value","label","isDisabled","onChangeItem"]],template:function(t,i){1&t&&(e.F$t(S),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.YNc(3,T,2,0,"ng-container",2),e.qZA(),e.TgZ(4,"ul",3),e.ALo(5,"async"),e.YNc(6,L,1,3,"ui-select-item",4),e.ALo(7,"async"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",i.isMultiple),e.xp6(1),e.Q6J("ngClass",e.VKq(7,F,e.lcZ(5,3,i.dropdown.activeFlag$))),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,5,i.list$)))},directives:[s.O5,s.mk,s.sg,g,b],pipes:[s.Ov],styles:[""],changeDetection:0}),n})()},721:(_,m,l)=>{l.d(m,{X:()=>d});var e=l(1223);let d=(()=>{class h{constructor(a,s){this.renderer2=a,this.elRef=s,this.elInput=s.nativeElement,this.elHelp=a.createElement("div")}ngOnInit(){this.elField=this.elInput.closest(".field"),this.renderer2.addClass(this.elHelp,"field__help"),this.renderer2.appendChild(this.elField,this.elHelp),this.renderer2.setProperty(this.elHelp,"innerText",this.helpText)}}return h.\u0275fac=function(a){return new(a||h)(e.Y36(e.Qsj),e.Y36(e.SBq))},h.\u0275dir=e.lG2({type:h,selectors:[["","uiInputHelp",""]],inputs:{helpText:["uiInputHelp","helpText"]}}),h})()},2297:(_,m,l)=>{l.d(m,{V:()=>h});var e=l(1223),d=l(2382);let h=(()=>{class u{constructor(s,c,f){this.renderer2=s,this.elRef=c,this.ngControl=f,this.elInput=c.nativeElement,this.elLabel=s.createElement("label")}onFocus(){this.renderer2.addClass(this.elField,"active")}onBlur(){this.control.value||this.renderer2.removeClass(this.elField,"active")}ngOnInit(){this.required&&(this.labelText+="<sup>*</sup>"),this.control=this.ngControl.control,this.elField=this.elInput.closest(".field"),this.elFieldContainer=this.renderer2.parentNode(this.elInput),this.renderer2.addClass(this.elLabel,"field__label"),this.renderer2.appendChild(this.elFieldContainer,this.elLabel),this.renderer2.setProperty(this.elLabel,"innerHTML",this.labelText),this.control.value&&this.onFocus(),this.control.valueChanges.subscribe(s=>{s?this.onFocus():this.onBlur()})}}return u.\u0275fac=function(s){return new(s||u)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(d.a5))},u.\u0275dir=e.lG2({type:u,selectors:[["","uiInputLabel",""]],hostBindings:function(s,c){1&s&&e.NdJ("focus",function(){return c.onFocus()})("blur",function(){return c.onBlur()})},inputs:{labelText:["uiInputLabel","labelText"],required:"required"}}),u})()},831:(_,m,l)=>{function e(d,h){return Array.from({length:d},h)}l.d(m,{V:()=>e})},9555:(_,m,l)=>{l.d(m,{L:()=>d});var e=l(1135);class d{constructor(u,a){this.boundClickHandler=this.clickHandler.bind(this),this.elInput=u,this.activeFlag$=new e.X(!1),this.closestString=a,this.init()}init(){this.elInput.addEventListener("click",()=>{addEventListener("click",this.boundClickHandler)})}clickHandler(u){const a=u.target;this.closestString?!a.closest(this.closestString)&&a!==this.elInput&&this.activeFlag$.next(!1):a!==this.elInput&&this.activeFlag$.next(!1),a===this.elInput&&this.activeFlag$.next(!this.activeFlag$.value),this.activeFlag$.value||(this.elInput.blur(),removeEventListener("click",this.boundClickHandler))}}}}]);